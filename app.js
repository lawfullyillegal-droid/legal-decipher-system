// All-in-one Legal Decipher System
const TERMS=[{id:"person",label:"Person",sources:[{source:"USC",citation:"1 U.S.C. § 1",definition:"Includes individuals and various legal entities.",context:"statutory"},{source:"UCC",citation:"UCC § 1-201",definition:"Covers natural persons and legal/commercial entities.",context:"commercial"},{source:"CJS",citation:"Corpus Juris Secundum § 2",definition:"A man considered according to the rank he holds in society, with all the rights to which the place he holds entitles him, and the duties which it imposes.",context:"common_law"}]},{id:"corporation",label:"Corporation",sources:[{source:"USC",citation:"26 U.S.C.",definition:"Artificial entity created by law, separate from shareholders.",context:"statutory"},{source:"CJS",citation:"Corpus Juris Secundum § 1",definition:"An artificial being, invisible, intangible, and existing only in contemplation of law. Created by or under authority of law with a continuous existence independent of the existences of its members.",context:"common_law"}]},{id:"money",label:"Money",sources:[{source:"UCC",citation:"UCC § 1-201",definition:"Medium of exchange authorized by government.",context:"commercial"},{source:"CJS",citation:"Corpus Juris Secundum Vol 59",definition:"In usual and ordinary acceptation, coins and paper currency used as circulating medium of exchange, and does not embrace notes, bonds, evidences of debt, or other personal or real estate.",context:"common_law"}]},{id:"united_states",label:"United States",sources:[{source:"USC",citation:"28 U.S.C. § 3002(15)",definition:"(A) a Federal corporation; (B) an agency, department, commission, board, or other entity of the United States; or (C) an instrumentality of the United States.",context:"statutory"},{source:"USC",citation:"21 U.S.C. § 387(22)",definition:"The 50 States, District of Columbia, Puerto Rico, Guam, Virgin Islands, American Samoa, Wake Island, Midway Islands, Kingman Reef, Johnston Atoll, Northern Mariana Islands, and any other trust territory or possession.",context:"statutory"}]},{id:"represent",label:"Represent",sources:[{source:"Black's Law",citation:"Black's Law Dictionary 11th Ed.",definition:"To act as the agent for another; to act as a client's attorney; to state something as a fact.",context:"common_law"},{source:"CJS",citation:"Corpus Juris Secundum",definition:"To provide legal advice, counsel, or advocacy on behalf of another person or entity, encompassing the professional relationship between a lawyer and their client.",context:"common_law"}]},{id:"client",label:"Client",sources:[{source:"Black's Law",citation:"Black's Law Dictionary 11th Ed.",definition:"A person who engages the professional services of an attorney, establishing a relationship where the attorney acts as an advocate and advisor.",context:"common_law"},{source:"CJS",citation:"Corpus Juris Secundum",definition:"One who employs or retains an attorney or counselor to appear for him in courts, advise, assist and defend him in legal proceedings.",context:"common_law"}]},{id:"ward",label:"Ward",sources:[{source:"Black's Law",citation:"Black's Law Dictionary 11th Ed.",definition:"An individual, often a minor or someone deemed unable to manage their own affairs, who is placed under the protection of a guardian appointed by the court.",context:"common_law"},{source:"CJS",citation:"Corpus Juris Secundum",definition:"A person, especially an infant or incompetent, placed by the court under the care and supervision of a guardian.",context:"common_law"}]},{id:"minor",label:"Infant/Minor",sources:[{source:"USC",citation:"Various statutes",definition:"A person who has not yet reached the age of 18 years.",context:"statutory"},{source:"Black's Law",citation:"Black's Law Dictionary 11th Ed.",definition:"A person who is under the age of legal competence, typically 18 years. The term 'infant' in legal terminology is synonymous with minor.",context:"common_law"},{source:"CJS",citation:"Corpus Juris Secundum",definition:"Persons who fall into underage categories such as children, infant, juvenile, young person, pupil under the age of majority.",context:"common_law"}]}];
const CODES=[{id:"usc_1_1",title:"1 U.S.C. § 1",source:"USC",citation:"1 U.S.C. § 1",summary:"General rules of construction including 'person'.",relatedTerms:["person"]},{id:"usc_28_3002",title:"28 U.S.C. § 3002(15)",source:"USC",citation:"28 U.S.C. § 3002(15)",summary:"Defines United States as federal corporation and entities.",relatedTerms:["united_states"]},{id:"usc_21_387",title:"21 U.S.C. § 387(22)",source:"USC",citation:"21 U.S.C. § 387(22)",summary:"Defines United States geographically including territories.",relatedTerms:["united_states"]}];
const RELATIONS=[{termId:"person",relatedTo:"corporation",label:"Includes artificial entities",type:"commercial"},{termId:"client",relatedTo:"represent",label:"Requires representation",type:"legal"},{termId:"ward",relatedTo:"minor",label:"Often includes minors",type:"legal"}];
const UI={renderTermList(t){const c=document.getElementById('termList');c.innerHTML='';t.forEach(e=>{const l=document.createElement('li');l.textContent=e.label;l.className='term-item';l.onclick=()=>showTermDetail(e.id);c.appendChild(l)})},renderTermDetail(t,r){const d=document.getElementById('termDetail');if(!t){d.innerHTML='<p>Select a term.</p>';return}const defs=t.sources.map(s=>`<div class="definition-card context-${s.context}"><h4>${s.source} <span class="citation">${s.citation}</span></h4><p>${s.definition}</p><p class="context-label">Context: <strong>${s.context}</strong></p></div>`).join('');const rels=r.map(r=>`<li>${r.type}: <button class="link-btn" onclick="showTermDetail('${r.relatedTo}')">${r.label}</button></li>`).join('')||'<li>No relations.</li>';d.innerHTML=`<h3>${t.label}</h3><section><h4>Definitions</h4><div class="definitions-grid">${defs}</div></section><section><h4>Cross-references</h4><ul class="relations-list">${rels}</ul></section>`},renderCodeList(c){const cont=document.getElementById('codeList');cont.innerHTML='';c.forEach(e=>{const l=document.createElement('li');l.textContent=`${e.source}: ${e.citation}`;l.title=e.title;l.className='code-item';l.onclick=()=>showCodeDetail(e.id);cont.appendChild(l)})},renderCodeDetail(c){const d=document.getElementById('codeDetail');if(!c){d.innerHTML='';return}d.innerHTML=`<h3>${c.title}</h3><p><span class="citation">${c.citation}</span> [${c.source}]</p><p>${c.summary}</p>`}};
function showTermDetail(id){const t=TERMS.find(e=>e.id===id);const r=RELATIONS.filter(e=>e.termId===id);UI.renderTermDetail(t,r)}
function showCodeDetail(id){const c=CODES.find(e=>e.id===id);UI.renderCodeDetail(c)}
function init(){document.getElementById('termSearch').addEventListener('input',e=>{const q=e.target.value.toLowerCase();const f=TERMS.filter(t=>t.label.toLowerCase().includes(q)||t.id.includes(q));UI.renderTermList(f)});document.getElementById('codeSearch').addEventListener('input',e=>{const q=e.target.value.toLowerCase();const f=CODES.filter(c=>c.citation.toLowerCase().includes(q)||c.title.toLowerCase().includes(q));UI.renderCodeList(f)});UI.renderTermList(TERMS);UI.renderCodeList(CODES)}
document.addEventListener('DOMContentLoaded',init);
